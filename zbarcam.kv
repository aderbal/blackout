#:import XCamera kivy.garden.xcamera.XCamera
<ZBarCam>:
    Widget:
        id: proxy
        XCamera:
            id: xcamera
            play: False
            resolution: root.resolution
            allow_stretch: True
            keep_ratio: True
            center: root.size and proxy.center
            size: (root.height, root.width) if root.is_android() else (root.width, root.height)
            canvas.before:
                PushMatrix
                Rotate:
                    angle: -90 if root.is_android() else 0
                    origin: self.center
            canvas.after:
                PopMatrix
